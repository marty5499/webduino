<link rel="import" href="../polymer/polymer.html">
<dom-module id="wa-max7219-led">
  <template>
    <style>
    img {
      width: 56px;
      margin: -2px;
    }
    </style>
    <img src='off.png' id='off'></img>
    <img src='on.png' id='on'></img>
  </template>
</dom-module>
<script>
(function() {
  Polymer({
    is: 'wa-max7219-led',
    state: 'off',
    properties: {},
    ready: function() {
      this.$.on.style.display = 'none';
      this.update();
      this.addEventListener('click', function() {
        if (this.state == 'on') {
          this.state = 'off';
        } else {
          this.state = 'on';
        }
        this.update();
      }, false);
    },
    on: function() {
      this.state = 'on';
      this.$.off.style.display = 'none';
      this.$.on.style.display = 'inline-block';
    },
    off: function() {
      this.state = 'off';
      this.$.on.style.display = 'none';
      this.$.off.style.display = 'inline-block';
    },
    update: function() {
      if (this.state == 'on') {
        this.on();
        this.fire('state', {
          id: this.id,
          state: 'on'
        });
      } else {
        this.off();
        this.fire('state', {
          id: this.id,
          state: 'off'
        });
      }
    }
  });
})();
</script>